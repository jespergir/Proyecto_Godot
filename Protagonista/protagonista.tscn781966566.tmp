[gd_scene load_steps=50 format=3 uid="uid://c8mmgp3r8skl7"]

[ext_resource type="Script" uid="uid://c1lxgi5xqgdt6" path="res://Protagonista/protagonista.gd" id="1_0nl2c"]
[ext_resource type="Texture2D" uid="uid://b5boduif34ogy" path="res://Recursos/Knight/Knight_player/Walking_KG_2.png" id="2_31hdc"]
[ext_resource type="Texture2D" uid="uid://jk8khnr5bmp7" path="res://Recursos/Knight/Knight_player/Idle_KG_2.png" id="2_wwtkg"]
[ext_resource type="Texture2D" uid="uid://c3igtoi2chuvf" path="res://Recursos/Knight/Knight_player/Attack_KG_1.png" id="2_ytoek"]
[ext_resource type="Texture2D" uid="uid://qv4uiomvqwa3" path="res://Recursos/Knight/Knight_player/Fall_KG_2.png" id="3_y74jy"]
[ext_resource type="Texture2D" uid="uid://dnrxbdstpeffa" path="res://Recursos/Knight/Knight_player/Jump_KG_2.png" id="5_y74jy"]
[ext_resource type="Texture2D" uid="uid://dxv5itqgdphti" path="res://Recursos/Knight/Knight_player/Landing_KG_2.png" id="6_y74jy"]
[ext_resource type="PackedScene" uid="uid://hwjnj4b8lx4t" path="res://Enemigos/Control_Enemigos/FSM/state_machine.tscn" id="7_6hlvo"]
[ext_resource type="Script" uid="uid://e3ii2tusaj84" path="res://Protagonista/Control_Protagonista/FSM/state_machine.gd" id="9_31hdc"]
[ext_resource type="Script" uid="uid://vwt7g14rvsx7" path="res://Protagonista/Control_Protagonista/FSM/EstadosProtagonista/Idle.gd" id="9_y74jy"]
[ext_resource type="Script" uid="uid://dr63vbsquu301" path="res://Protagonista/Control_Protagonista/FSM/EstadosProtagonista/Walk.gd" id="10_31hdc"]
[ext_resource type="Script" uid="uid://cti6pyscixue4" path="res://Protagonista/Control_Protagonista/FSM/EstadosProtagonista/Jump.gd" id="11_wwtkg"]
[ext_resource type="Script" uid="uid://yrxroxrir33b" path="res://Protagonista/Control_Protagonista/FSM/EstadosProtagonista/Fall.gd" id="12_hqylf"]
[ext_resource type="Script" uid="uid://c0cmubbeiegpj" path="res://Protagonista/Control_Protagonista/FSM/EstadosProtagonista/Land.gd" id="13_4jmt6"]
[ext_resource type="Script" uid="uid://cqaqy1wv4g80r" path="res://Protagonista/Control_Protagonista/FSM/EstadosProtagonista/Attack1.gd" id="14_xubla"]

[sub_resource type="AtlasTexture" id="AtlasTexture_xftmy"]
atlas = ExtResource("2_ytoek")
region = Rect2(0, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_cv0jy"]
atlas = ExtResource("2_ytoek")
region = Rect2(100, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gdr2a"]
atlas = ExtResource("2_ytoek")
region = Rect2(200, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6h8mc"]
atlas = ExtResource("2_ytoek")
region = Rect2(300, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7g6al"]
atlas = ExtResource("2_ytoek")
region = Rect2(400, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6nl81"]
atlas = ExtResource("2_ytoek")
region = Rect2(500, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_yg2x0"]
atlas = ExtResource("3_y74jy")
region = Rect2(0, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_askno"]
atlas = ExtResource("3_y74jy")
region = Rect2(100, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_n0qcp"]
atlas = ExtResource("3_y74jy")
region = Rect2(200, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_na8ri"]
atlas = ExtResource("2_wwtkg")
region = Rect2(0, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1fh0o"]
atlas = ExtResource("2_wwtkg")
region = Rect2(100, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ogtov"]
atlas = ExtResource("2_wwtkg")
region = Rect2(200, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_oh254"]
atlas = ExtResource("2_wwtkg")
region = Rect2(300, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_31hdc"]
atlas = ExtResource("5_y74jy")
region = Rect2(0, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wwtkg"]
atlas = ExtResource("5_y74jy")
region = Rect2(100, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hqylf"]
atlas = ExtResource("5_y74jy")
region = Rect2(200, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ovgc5"]
atlas = ExtResource("5_y74jy")
region = Rect2(300, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qtgql"]
atlas = ExtResource("5_y74jy")
region = Rect2(400, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4sjd3"]
atlas = ExtResource("5_y74jy")
region = Rect2(500, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4jmt6"]
atlas = ExtResource("6_y74jy")
region = Rect2(0, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xubla"]
atlas = ExtResource("6_y74jy")
region = Rect2(100, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_grxn6"]
atlas = ExtResource("6_y74jy")
region = Rect2(200, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_g154e"]
atlas = ExtResource("6_y74jy")
region = Rect2(300, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_n866b"]
atlas = ExtResource("2_31hdc")
region = Rect2(0, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_npnfb"]
atlas = ExtResource("2_31hdc")
region = Rect2(100, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a0vj3"]
atlas = ExtResource("2_31hdc")
region = Rect2(200, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6n6h5"]
atlas = ExtResource("2_31hdc")
region = Rect2(300, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a8cx4"]
atlas = ExtResource("2_31hdc")
region = Rect2(400, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wyxd0"]
atlas = ExtResource("2_31hdc")
region = Rect2(500, 0, 100, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wl0ua"]
atlas = ExtResource("2_31hdc")
region = Rect2(600, 0, 100, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_qd3w3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xftmy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cv0jy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gdr2a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6h8mc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7g6al")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6nl81")
}],
"loop": false,
"name": &"Attack1",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yg2x0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_askno")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n0qcp")
}],
"loop": true,
"name": &"Fall",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_na8ri")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1fh0o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ogtov")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oh254")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_31hdc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wwtkg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hqylf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ovgc5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qtgql")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4sjd3")
}],
"loop": false,
"name": &"Jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4jmt6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xubla")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_grxn6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g154e")
}],
"loop": false,
"name": &"Land",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_n866b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_npnfb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a0vj3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6n6h5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a8cx4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wyxd0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wl0ua")
}],
"loop": false,
"name": &"Walk",
"speed": 10.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_682ol"]
height = 60.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y74jy"]
size = Vector2(24, 24)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_31hdc"]
size = Vector2(24, 32)

[node name="Protagonista" type="CharacterBody2D"]
script = ExtResource("1_0nl2c")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_qd3w3")
animation = &"Land"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 2)
shape = SubResource("CapsuleShape2D_682ol")

[node name="Attack1" type="Area2D" parent="."]

[node name="Attack1FirstCollision" type="CollisionShape2D" parent="Attack1"]
position = Vector2(36, -12)
shape = SubResource("RectangleShape2D_y74jy")
disabled = true

[node name="Attack1SecondCollision" type="CollisionShape2D" parent="Attack1"]
position = Vector2(36, 16)
shape = SubResource("RectangleShape2D_31hdc")
disabled = true

[node name="RayCastSuelo1" type="RayCast2D" parent="."]
position = Vector2(8, 0)
target_position = Vector2(0, 48)

[node name="RayCastSuelo2" type="RayCast2D" parent="."]
position = Vector2(-8, 0)
target_position = Vector2(0, 48)

[node name="StateMachine" parent="." instance=ExtResource("7_6hlvo")]
script = ExtResource("9_31hdc")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("9_y74jy")

[node name="Walk" type="Node" parent="StateMachine"]
script = ExtResource("10_31hdc")

[node name="Jump" type="Node" parent="StateMachine"]
script = ExtResource("11_wwtkg")

[node name="Fall" type="Node" parent="StateMachine"]
script = ExtResource("12_hqylf")

[node name="Land" type="Node" parent="StateMachine"]
script = ExtResource("13_4jmt6")

[node name="Attack1" type="Node" parent="StateMachine"]
script = ExtResource("14_xubla")

[connection signal="animation_finished" from="AnimatedSprite2D" to="StateMachine/Jump" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="animation_finished" from="AnimatedSprite2D" to="StateMachine/Land" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="animation_finished" from="AnimatedSprite2D" to="StateMachine/Attack1" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="frame_changed" from="AnimatedSprite2D" to="StateMachine/Attack1" method="_on_animated_sprite_2d_frame_changed"]
